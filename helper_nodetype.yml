# Node type resolution
#
# We support two methods to categorize nodes (masters or workers):
# Using host groups: 'masters' and 'workers'
# Using variables: 'masters' or 'workers'


- name: Resolve node type from host group
  set_fact:
    k8s_node_type: "{{ item.type }}"
  when:
    - k8s_node_type is not defined
    - item.group in group_names
  with_items:
    - { "group": "masters", "type": "master" }
    - { "group": "workers", "type": "worker" }
